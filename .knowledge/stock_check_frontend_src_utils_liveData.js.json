{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions and an API to fetch live stock data from Alpha Vantage via a Netlify Functions proxy. It handles data validation, error parsing, logging, and computations related to stock performance metrics, specifically designed for a frontend stock monitoring application.", "external_files": ["/api/av-time-series-daily-adjusted"], "external_methods": ["fetch"], "published": ["fetchLiveUniverse"], "classes": [], "methods": [{"name": "validateLiveUniverseRows(rows)", "description": "Validates that each row in the live data universe has necessary fields with correct types and valid data.", "scope": "", "scopeKind": ""}, {"name": "throwAlphaVantageError({ ticker, json })", "description": "Parses and throws a consistent error for various Alpha Vantage API error responses.", "scope": "", "scopeKind": ""}, {"name": "logLiveFetch({ source, ticker, at, detail })", "description": "Logs details of each live data fetch, including timestamp, source, and ticker.", "scope": "", "scopeKind": ""}, {"name": "fetchJson(url)", "description": "Performs fetch and safely parses the response as JSON, throwing an error if parsing fails.", "scope": "", "scopeKind": ""}, {"name": "asNum(x)", "description": "Converts input to a finite number or returns null.", "scope": "", "scopeKind": ""}, {"name": "yyyyMmDdToDate(s)", "description": "Converts a 'YYYY-MM-DD' string to a Date object.", "scope": "", "scopeKind": ""}, {"name": "sortDatesDesc(keys)", "description": "Sorts date string keys in descending order.", "scope": "", "scopeKind": ""}, {"name": "computeTrailingReturnPct({ sortedDatesDesc, series, latestClose, months })", "description": "Computes percentage return over specified months using historical data series.", "scope": "", "scopeKind": ""}, {"name": "fetchDailyAdjustedSeries({ ticker, outputsize })", "description": "Fetches daily adjusted time series data for a stock ticker from Alpha Vantage.", "scope": "", "scopeKind": ""}, {"name": "buildNeutralFactorInputs()", "description": "Provides a default set of input factors with neutral values for computations.", "scope": "", "scopeKind": ""}, {"name": "fetchLiveUniverse({ config } = {})", "description": "Public function that fetches live stock data for a set of tickers, computes trailing returns, and validates data.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "fetchJson", "throwAlphaVantageError", "logLiveFetch", "fetchDailyAdjustedSeries", "validateLiveUniverseRows", "computeTrailingReturnPct"], "search-terms": ["Alpha Vantage", "Netlify Functions proxy", "live stock data", "trailing return calculation", "fetchLiveUniverse", "stock ticker validation", "daily adjusted series", "computation of performance metrics"], "state": 2, "file_id": 26, "knowledge_revision": 91, "git_revision": "30822fa261bf96d4564d643623691effdc610374", "revision_history": [{"64": "28426dcf383e033597d2bfc52662f5441012a463"}, {"91": "30822fa261bf96d4564d643623691effdc610374"}], "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^const API_BASE = \"\\/api\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_LIVE_TICKERS", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^const DEFAULT_LIVE_TICKERS = [\"AAPL\", \"MSFT\", \"AMZN\", \"GOOGL\", \"META\", \"TSLA\", \"NVDA\", \"JPM\", \"U/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "asNum", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^function asNum(x) {$/", "language": "JavaScript", "kind": "function", "signature": "(x)"}, {"_type": "tag", "name": "buildNeutralFactorInputs", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^function buildNeutralFactorInputs() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "computeTrailingReturnPct", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^function computeTrailingReturnPct({ sortedDatesDesc, series, latestClose, months }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ sortedDatesDesc, series, latestClose, months })"}, {"_type": "tag", "name": "fetchDailyAdjustedSeries", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^async function fetchDailyAdjustedSeries({ ticker, outputsize }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ ticker, outputsize })"}, {"_type": "tag", "name": "fetchJson", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^async function fetchJson(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "fetchLiveUniverse", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^export async function fetchLiveUniverse({ config } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ config } = {})"}, {"_type": "tag", "name": "logLiveFetch", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^function logLiveFetch({ source, ticker, at, detail }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ source, ticker, at, detail })"}, {"_type": "tag", "name": "sortDatesDesc", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^function sortDatesDesc(keys) {$/", "language": "JavaScript", "kind": "function", "signature": "(keys)"}, {"_type": "tag", "name": "throwAlphaVantageError", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^function throwAlphaVantageError({ ticker, json }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ ticker, json })"}, {"_type": "tag", "name": "validateLiveUniverseRows", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^function validateLiveUniverseRows(rows) {$/", "language": "JavaScript", "kind": "function", "signature": "(rows)"}, {"_type": "tag", "name": "yyyyMmDdToDate", "path": "/home/kavia/workspace/code-generation/inventory-tracker-239617-239632/stock_check_frontend/src/utils/liveData.js", "pattern": "/^function yyyyMmDdToDate(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}], "hash": "7dbfe20b046ca414ae8dc361d8cdb951", "format-version": 4, "code-base-name": "stock_check_frontend", "filename": "stock_check_frontend/src/utils/liveData.js"}